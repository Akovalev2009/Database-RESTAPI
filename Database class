import os
import psycopg2

class Database:
    def __init__(self):
        self.connection = psycopg2.connect(
            host=os.getenv('FSTR_DB_HOST'),
            port=os.getenv('FSTR_DB_PORT'),
            user=os.getenv('FSTR_DB_LOGIN'),
            password=os.getenv('FSTR_DB_PASS'),
            dbname='your_database_name'
        )
        self.cursor = self.connection.cursor()

    def submit_pass(self, pass_data):
        # Пример вставки данных о перевале
        query = "INSERT INTO passes (name, location, status) VALUES (%s, %s, %s) RETURNING id;"
        self.cursor.execute(query, (pass_data['name'], pass_data['location'], 'new'))
        self.connection.commit()
        return self.cursor.fetchone()[0]

    def close(self):
        self.cursor.close()
        self.connection.close()
