
```markdown
# Документация REST API

Этот API позволяет отправлять, получать и обновлять информацию о перевалах.

## Настройка

1. Клонируйте репозиторий и установите зависимости:
   ```bash
   pip install -r requirements.txt
   ```
2. Запустите сервер:
   ```bash
   python app.py
   ```

Сервер будет работать по адресу `http://127.0.0.1:5000/`.

## Эндпоинты API

### 1. Отправить новый перевал

- **Метод**: `POST /submitData`
- **Описание**: Отправляет новый перевал на сервер.
- **Тело запроса**:
  ```json
  {
    "title": "Название перевала",
    "add_time": "2024-01-01T12:00:00",
    "user": "имя_пользователя",
    "coords": { "latitude": 55.75, "longitude": 37.61 },
    "level": "сложность",
    "images": ["ссылка_на_изображение1", "ссылка_на_изображение2"]
  }
  ```
- **Ответ**:
  - **200 OK**: 
    ```json
    { "status": 200, "message": null, "id": pass_id }
    ```
  - **400 Bad Request**:
    ```json
    { "status": 400, "message": "Отсутствует поле: title" }
    ```

### 2. Получить перевал по ID

- **Метод**: `GET /submitData/<id>`
- **Описание**: Получает запись перевала по его ID.
- **Ответ**:
  - **200 OK**:
    ```json
    {
      "id": 1,
      "title": "Название перевала",
      "add_time": "2024-01-01T12:00:00",
      "user": "имя_пользователя",
      "coords": { "latitude": 55.75, "longitude": 37.61 },
      "level": "сложность",
      "images": ["ссылка_на_изображение1", "ссылка_на_изображение2"],
      "moderation_status": "new"
    }
    ```
  - **404 Not Found**:
    ```json
    { "message": "Запись не найдена" }
    ```

### 3. Обновить перевал по ID

- **Метод**: `PATCH /submitData/<id>`
- **Описание**: Обновляет существующий перевал, если его статус — `new`.
- **Тело запроса**:
  ```json
  {
    "title": "Новое название перевала",
    "coords": { "latitude": 56.0, "longitude": 38.0 },
    "level": "новая сложность",
    "images": ["новая_ссылка_на_изображение"]
  }
  ```
- **Ответ**:
  - **200 OK**:
    ```json
    { "state": 1, "message": "Запись успешно обновлена." }
    ```
  - **400 Bad Request**:
    ```json
    { "state": 0, "message": "Запись не может быть изменена; статус не 'new'." }
    ```

### 4. Получить все перевалы пользователя по email

- **Метод**: `GET /submitData?user__email=<email>`
- **Описание**: Получает список всех перевалов, отправленных пользователем с заданным email.
- **Ответ**:
  - **200 OK**:
    ```json
    [
      {
        "id": 1,
        "title": "Название перевала",
        "add_time": "2024-01-01T12:00:00",
        "user": "имя_пользователя",
        "coords": { "latitude": 55.75, "longitude": 37.61 },
        "level": "сложность",
        "images": ["ссылка_на_изображение1"],
        "moderation_status": "new"
      }
    ]
    ```
  - **400 Bad Request**:
    ```json
    { "message": "Параметр email обязателен." }
    ```
```

